<!DOCTYPE html>
<html>
<head>
  <title>Black Screen</title>
  <link rel="stylesheet" type="text/css" href="styles/main.css" media="screen"/>
</head>
<body>
<div id="sizes-calculation">
  0123456789
</div>

<div id="board"></div>
<div id="status-line">
  <div id="current-directory"></div>
</div>

<script>
  var $ = require('jquery');
  var Terminal = require('./compiled/terminal');
  var terminal = new Terminal(document);

  currentDirectoryElement = document.getElementById('current-directory');
  currentDirectoryElement.innerHTML = terminal.shell.currentDirectory;

  terminal.shell.on('current-directory-changed', function (cwd) {
    currentDirectoryElement.innerHTML = cwd;
  });

  var letter = document.getElementById('sizes-calculation');

  function resize() {
    terminal.resize({
      columns: Math.floor(window.innerWidth  / letter.clientWidth  * 10),
      rows:    Math.floor(window.innerHeight / letter.clientHeight * 10)
    });
  }

  resize();
  $(window).resize(resize);
</script>
</body>
</html>
